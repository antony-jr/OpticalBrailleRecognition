<!doctype html>

<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>Optical Braille Recognition</title>
    <style>
	.input_image {
		display: block;
		max-width:100vw;
		max-height:30vh;
		width: auto;
		height: auto;
	}
    </style>
  </head>
  <body>
   <div class="container">
	  <h1 align="center">Optical Braille Recognition</h1>
	  <hr/>
	   <div align="center" class="container" style="margin-top: 20px">
	  <img id="input" src="/current_image" class="img-fluid input_image" alt="Braille Text">

	  <br> 
	  <kbd id="output">PRESS THE DIGEST BUTTON TO GET THE ENGLISH TEXT FOR THE ABOVE IMAGE</kbd>
	  <br>
	  <div style="margin-top: 20px;margin-bottom: 20px;" align="center" class="container">
	  <button
	   type="button"
	   class="btn btn-success"
	   onclick="digest()">
		  Digest
	  </button>
	  <form action="/upload" method=post enctype=multipart/form-data>
	  <input type=file name=file>
	  <input
	   type=submit
	   value="Upload Image"
	   class="btn btn-info"></input>
	  </form>
	  </div>
	  </div>
	  <div align="center" class="container-md">
	  Optical braille recognition is the act of capturing and processing images of braille characters into natural language characters. This project aims to detect and segment braille characters from <b>single sided english braille text</b>, The segmented braille characters can be classified by a simple algorithm built in or can be analysed further by advanced systems.
	  <br/>
	  </div>

	  <div align="center" class="container" style="margin-top: 10px;">
		  <button 
		   type="button"
		   class="btn btn-dark"
		   onclick="openUrl('https://raw.githubusercontent.com/antony-jr/OpticalBrailleRecognition/master/docs/whitepaper.pdf')">
		   Whitepaper
		  </button>

		  <button
		   type="button"
		   class="btn btn-primary"
		   onclick="openUrl('https://github.com/antony-jr/OpticalBrailleRecognition')"
		   >
		   Project Page
		  </button>
	  </div>
   </div>

    <script>
	    function openUrl(url) {
		    window.open(url, '_blank');
	    }

	    function digest() {
		var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				document.getElementById("output").innerHTML = this.responseText;
				document.getElementById("input").src = '/processed_image';
			}
		};
		xhttp.open("GET", "digest", true)
		xhttp.send()
	    }
    </script>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>
